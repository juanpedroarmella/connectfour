(()=>{"use strict";class t{constructor(e,i,s,o,n,l,a){this.setPosition=(t,e)=>{this.posX=t,this.posY=e},this.getId=()=>this.id,this.getPertenece=()=>this.pertenece,this.getColor=()=>this.color,this.getImgSrc=()=>this.imgSrc,this.getCtx=()=>this.ctx,this.isPointInside=(e,i)=>{const s=this.posX-e,o=this.posY-i;return Math.sqrt(s*s+o*o)<t.RADIO},this.setResaltado=t=>{this.resaltado=t},this.getPuedeMover=()=>this.puedeMover,this.setPuedeMover=t=>{this.puedeMover=t},this.renderizar=()=>{this.drawFicha(this.posX,this.posY)},this.drawImage=(e,i)=>{const s=e-36,o=i-36;this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e,i,t.RADIO,0,2*Math.PI),this.ctx.closePath(),this.ctx.clip(),this.ctx.drawImage(this.img,s,o,70,70),this.ctx.beginPath(),this.ctx.arc(e,i,t.RADIO,0,2*Math.PI),this.ctx.clip(),this.ctx.closePath(),this.ctx.restore()},this.resaltarFicha=()=>{this.ctx.strokeStyle="#262626",this.ctx.lineWidth=7,this.ctx.stroke()},this.pintarFicha=()=>{this.ctx.fillStyle=this.color,this.ctx.fill()},this.drawFicha=(e,i)=>{if(this.ctx.beginPath(),this.ctx.arc(e,i,t.RADIO,0,2*Math.PI),null==this.imgSrc)this.pintarFicha();else if(""===this.img.src){this.img.src=this.imgSrc;const t=()=>{this.drawImage(e,i)};this.img.onload=t.bind(this)}else this.drawImage(e,i);!0===this.resaltado&&this.resaltarFicha()},this.id=e,this.imgSrc=i,this.img=new Image,this.pertenece=s,this.posX=o,this.posY=n,this.resaltado=!1,this.ctx=l,this.color=a,this.puedeMover=!0}setPertenece(t){this.pertenece=t}}t.RADIO=28;class e{constructor(t,i,s,o,n,l){this.inicMatriz=()=>{for(let t=0;t<this.cantFil;t++){this.matrizTablero[t]=[];for(let e=0;e<this.cantCol;e++)this.matrizTablero[t][e]=null}},this.cargarImagen=()=>{let t=this.initX,i=this.initY;for(let s=0;s<this.cantFil;s++){for(let s=0;s<this.cantCol;s++)this.ctx.drawImage(this.cellBg.img,t,i,this.cellBg.width,this.cellBg.height),t+=e.CELL_WIDTH;t=this.initX,i+=e.CELL_HEIGHT}i=this.initY},this.dibujarTablero=()=>{""===this.cellBg.img.src?(this.cellBg.img.src=this.cellBg.src,this.cellBg.img.onload=this.cargarImagen.bind(this)):this.cargarImagen()},this.getMedidaCelda=()=>({height:e.CELL_HEIGHT,width:e.CELL_WIDTH}),this.getMatrizTablero=()=>this.matrizTablero,this.getHeight=()=>{let t=0;for(let i=0;i<this.cantFil;i++)t+=e.CELL_HEIGHT;return t},this.getPosComienzoTableroX=()=>this.initX,this.getPosComienzoTableroY=()=>this.initY,this.colocarFichaMatriz=(t,e,i)=>{this.matrizTablero[e][t]=i},this.hayEnLinea=(t,e,i,s)=>this.busquedaVertical(t,e,i,s)||this.busquedaHorizontal(e,i,s)||this.busquedaDiagonal(t,e,i,s),this.busquedaVertical=(t,e,i,s)=>{let o=0;for(let n=e;n<this.cantFil;n++)if(this.matrizTablero[n][t]==i){if(o++,o==s)return!0}else o=0;return!1},this.busquedaHorizontal=(t,e,i)=>{let s=0;for(let o=0;o<this.cantCol;o++)if(this.matrizTablero[t][o]==e){if(s++,s==i)return!0}else s=0;return!1},this.busquedaDiagonal=(t,e,i,s)=>this.busquedaIzqInferiorADerSuperior(t,e,i,s)||this.busquedaIzqSuperiorADerInferior(t,e,i,s),this.busquedaIzqSuperiorADerInferior=(t,e,i,s)=>{let o={x:t,y:e};for(;o.x>0&&o.y>0;)o.x--,o.y--;let n=0;for(;o.x<=this.cantCol&&o.y<=this.cantFil-1;){if(this.matrizTablero[o.y][o.x]==i){if(n++,n==s)return!0}else n=0;o.x++,o.y++}return!1},this.busquedaIzqInferiorADerSuperior=(t,e,i,s)=>{let o={x:t,y:e},n=0;for(;o.x<this.cantCol&&o.y<this.cantFil;)o.x++,o.y++;for(;o.x>=0&&o.y<=this.cantFil-1;){if(this.matrizTablero[o.y][o.x]==i){if(n++,n==s)return!0}else n=0;o.x--,o.y++}return!1},this.cantCol=s,this.cantFil=o,this.inicMatriz(),this.matrizTablero=[],this.cellBg={src:i,height:e.CELL_WIDTH,width:e.CELL_HEIGHT,img:new Image},this.initX=n,this.initY=l,this.ctx=t,this.initX=n,this.initY=l,this.dibujarTablero()}getWidth(){let t=0;for(let i=0;i<this.cantCol;i++)t+=e.CELL_WIDTH;return t}}e.CELL_WIDTH=75,e.CELL_HEIGHT=72;class i{constructor(s,o,n,l,a,d,r,h,c,u){this.ultimaFichaClickeada=null,this.turno="",this.arrFichas=[],this.posiciones=[],this.repartirFichas=()=>{this.darFichas(this.configFichas.ficha1.imgSrc,i.inicioXJ1,i.inicioY,this.jugadores.jugador1,this.configFichas.ficha1.color),this.darFichas(this.configFichas.ficha2.imgSrc,i.inicioXJ2,i.inicioY,this.jugadores.jugador2,this.configFichas.ficha2.color)},this.darFichas=(e,i,s,o,n)=>{let l=0,a=0;const d=this.cantCol*this.cantFil/2;for(let r=s;a<d;r++){let d=new t(l,e,o,i,s,this.ctx,n);d.drawFicha(i,s),this.arrFichas.push(d),a++,l++}},this.comenzar=(t,s)=>{this.clearCanvas(),this.tablero=new e(this.ctx,this.bgTablero,this.cantCol,this.cantFil,t,s),this.drawUserName(this.jugadores.jugador1,i.j1NamePosX,i.j1NamePosY),this.drawUserName(this.jugadores.jugador2,i.j2NamePosX,i.j2NamePosY),this.repartirFichas(),this.completarPosiciones()},this.setJugador1=t=>{this.jugadores.jugador1=t},this.setJugador2=t=>{this.jugadores.jugador2=t},this.cambiarTurno=()=>{this.turno==this.jugadores.jugador1?this.turno=this.jugadores.jugador2:this.turno=this.jugadores.jugador1},this.turnoActual=()=>this.turno,this.buscarFichaClickeada=(t,e)=>{for(let i=0;i<this.arrFichas.length;i++){let s=this.arrFichas[i];if(s.isPointInside(t,e)&&s.getPuedeMover()&&s.getPertenece()==this.turno)return s}},this.onMouseDown=t=>{this.isMouseDown=!0,null!=this.ultimaFichaClickeada&&(this.ultimaFichaClickeada.setResaltado(!1),this.ultimaFichaClickeada=null);let e=this.buscarFichaClickeada(t.clientX,t.clientY);null!=e&&(e.setResaltado(!0),this.ultimaFichaClickeada=e),this.drawFichasYTablero()},this.cursorEnTablero=(t,e,i,s)=>t.clientX>=s&&t.clientX<=e&&t.clientY>=0&&t.clientY<=i,this.completarPosiciones=()=>{this.posiciones=[];let t=this.tablero.getPosComienzoTableroX();for(let e=0;e<this.cantCol;e++){let e={posX:t+3,posY:t+72};this.posiciones.push(e),t+=75}},this.onMouseMove=t=>{this.isMouseDown&&null!=this.ultimaFichaClickeada&&(this.ultimaFichaClickeada.setPosition(t.clientX,t.clientY),this.drawFichasYTablero())},this.getPosX=t=>{var e,i;for(let s=0;s<this.posiciones.length;s++)if(t.clientX>=((null===(e=this.posiciones[s])||void 0===e?void 0:e.posX)||0)&&t.clientX<=((null===(i=this.posiciones[s])||void 0===i?void 0:i.posX)||0))return s;return-1},this.getPosY=t=>{let e=this.tablero.getMatrizTablero();for(let i=this.cantCol-1;i>=0;i--)if(null==e[i][t])return i;return-1},this.onMouseOut=()=>{null!=this.ultimaFichaClickeada&&this.retornarFichaAlFichero()},this.onMouseUp=t=>{this.isMouseDown=!1;let e=this.tablero.getWidth()+this.tablero.getPosComienzoTableroX(),s=this.tablero.getPosComienzoTableroX();if(this.cursorEnTablero(t,e,100,s)){let e=this.getPosX(t),s=this.getPosY(e);if(-1!=s&&-1!=e&&null!=this.ultimaFichaClickeada){this.tablero.colocarFichaMatriz(e,s,this.ultimaFichaClickeada.getPertenece());let t=this.turno;i.turnoHtml.innerHTML="Turno de "+this.turnoActual(),this.colocarFicha(e,s),this.cambiarTurno(),this.tablero.hayEnLinea(e,s,t,this.xEnLinea)&&(this.mostrarGanador(t),this.turno="",this.stopIntervalTimer(this.interval))}else null!=this.ultimaFichaClickeada&&this.retornarFichaAlFichero()}else null!=this.ultimaFichaClickeada&&this.retornarFichaAlFichero()},this.retornarFichaAlFichero=()=>{var t,e;this.turno==this.jugadores.jugador1?(null===(t=this.ultimaFichaClickeada)||void 0===t||t.setPosition(i.inicioXJ1,i.inicioY),this.drawFichasYTablero()):(null===(e=this.ultimaFichaClickeada)||void 0===e||e.setPosition(i.inicioXJ2,i.inicioY),this.drawFichasYTablero())},this.mostrarGanador=t=>{var e;document.getElementById("showGanador").innerHTML=t,null===(e=document.getElementById("ganador"))||void 0===e||e.classList.remove("hidden")},this.colocarFicha=(e,i)=>{let s=this.tablero.getMedidaCelda(),o=this.posiciones[e];if(o&&this.ultimaFichaClickeada){let e=(o.posX+o.posY)/2,n=this.tablero.getPosComienzoTableroY()+i*s.height+37,l=new t(this.ultimaFichaClickeada.getId(),this.ultimaFichaClickeada.getImgSrc(),this.ultimaFichaClickeada.getPertenece(),e,n,this.ultimaFichaClickeada.getCtx(),this.ultimaFichaClickeada.getColor()),a=this.removeFichaFromArr(this.ultimaFichaClickeada);this.arrFichas=a,this.arrFichas.push(l),l.setResaltado(!1),this.drawFichasYTablero(),l.setPuedeMover(!1)}},this.removeFichaFromArr=t=>this.arrFichas.filter((e=>e.getId()!=t.getId()||e.getPertenece()!=t.getPertenece())),this.drawFondo=()=>{(new Image).src="./../../public/fondo.jpg"},this.drawFichasYTablero=()=>{this.clearCanvas(),this.drawFichas(),this.drawUserName(this.jugadores.jugador1,i.j1NamePosX,i.j1NamePosY),this.drawUserName(this.jugadores.jugador2,i.j2NamePosX,i.j2NamePosY)},this.drawFichas=()=>{for(let t=0;t<this.arrFichas.length;t++)this.arrFichas[t].renderizar()},this.drawUserName=(t,e,i)=>{this.ctx.fillStyle="white",this.ctx.font="600  25px Roboto",this.ctx.fillText(t,e,i)},this.getTablero=()=>this.tablero,this.consultaJugadoresVacios=()=>{""==this.jugadores.jugador1&&(this.jugadores.jugador1="Jugador 1"),""==this.jugadores.jugador2&&(this.jugadores.jugador2="Jugador 2")},this.comenzarJuego=(t,e)=>{this.jugadores.jugador1=(null===document||void 0===document?void 0:document.getElementById("nombreJugador1")).value,this.jugadores.jugador2=(null===document||void 0===document?void 0:document.getElementById("nombreJugador2")).value,this.consultaJugadoresVacios(),this.turno=this.jugadores.jugador1,i.turnoHtml.innerHTML="Turno de "+this.turnoActual(),this.comenzar(t,e),i.timeOver.classList.add("hidden"),this.closePopUp(),this.interval=setInterval((()=>{this.timer>=0?(i.reloj.innerHTML=this.convertMinSec(this.timer).toString(),this.timer--):(i.timeOver.classList.remove("hidden"),this.turno="",this.stopIntervalTimer(this.interval))}),1e3)},this.showPopUp=()=>{var t,e,i,s,o,n,l,a,d,r,h,c,u,m,g,v,I,E,L,F,C;null===(t=document.getElementById("pop-up"))||void 0===t||t.classList.remove("hidden"),null===(e=document.getElementById("tablero"))||void 0===e||e.classList.remove("hidden"),null===(i=document.getElementById("jugadores"))||void 0===i||i.classList.remove("hidden"),null===(s=document.getElementById("personalizar"))||void 0===s||s.classList.remove("hidden"),null===(o=document.getElementById("formatos"))||void 0===o||o.classList.remove("hidden"),null===(n=document.getElementById("imagen"))||void 0===n||n.classList.remove("hidden"),null===(l=document.getElementById("color"))||void 0===l||l.classList.remove("hidden"),null===(a=document.getElementById("verImagenes"))||void 0===a||a.classList.remove("hidden"),null===(d=document.getElementById("verColores"))||void 0===d||d.classList.remove("hidden"),null===(r=document.getElementById("elegirImagen1"))||void 0===r||r.classList.add("hidden"),null===(h=document.getElementById("elegirImagen2"))||void 0===h||h.classList.add("hidden"),null===(c=document.getElementById("elegirColor1"))||void 0===c||c.classList.add("hidden"),null===(u=document.getElementById("elegirColor2"))||void 0===u||u.classList.add("hidden"),null===(m=document.getElementById("leagueOfLegends"))||void 0===m||m.classList.add("hidden"),null===(g=document.getElementById("naruto"))||void 0===g||g.classList.add("hidden"),null===(v=document.getElementById("harryPotter"))||void 0===v||v.classList.add("hidden"),null===(I=document.getElementById("green"))||void 0===I||I.classList.add("hidden"),null===(E=document.getElementById("red"))||void 0===E||E.classList.add("hidden"),null===(L=document.getElementById("blue"))||void 0===L||L.classList.add("hidden"),null===(F=document.getElementById("ganador"))||void 0===F||F.classList.add("hidden"),null===(C=document.getElementById("timerOver"))||void 0===C||C.classList.add("hidden")},this.stopIntervalTimer=t=>{clearInterval(t)},this.convertMinSec=t=>{let e=Math.floor(t/60),i=t-60*e;return e<10&&(e="0"+e),i<10&&(i="0"+i),e+":"+i},this.ctx=s,this.canvas=o,this.jugadores={jugador1:n,jugador2:l},this.configFichas={ficha1:a,ficha2:d},this.cantCol=r,this.cantFil=h,this.bgTablero=c,this.isMouseDown=!1,this.xEnLinea=u,this.repartirFichas(),this.timer=i.totalTime}clearCanvas(){this.ctx.fillStyle="#05223c",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}closePopUp(){var t;null===(t=document.getElementById("pop-up"))||void 0===t||t.classList.add("hidden")}}i.inicioXJ1=125,i.inicioXJ2=1250,i.inicioY=500,i.totalTime=300,i.turnoHtml=document.getElementById("turno"),i.j1NamePosX=105,i.j1NamePosY=400,i.j2NamePosX=1200,i.j2NamePosY=400,i.timeOver=document.getElementById("timerOver"),i.reloj=document.getElementById("timer");var s=function(t,e,i,s){return new(i||(i=Promise))((function(o,n){function l(t){try{d(s.next(t))}catch(t){n(t)}}function a(t){try{d(s.throw(t))}catch(t){n(t)}}function d(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(l,a)}d((s=s.apply(t,e||[])).next())}))};class o{constructor(t){var e,i,o,n,l,a,d,r,h,c,u,m,g,v,I,E,L,F,C,b,y;this.showChooseImg=()=>{var t,e,i,s,o;null===(t=null===document||void 0===document?void 0:document.getElementById("color"))||void 0===t||t.classList.toggle("hidden"),null===(e=null===document||void 0===document?void 0:document.getElementById("formatos"))||void 0===e||e.classList.toggle("hidden"),null===(i=null===document||void 0===document?void 0:document.getElementById("elegirImagen1"))||void 0===i||i.classList.toggle("hidden"),null===(s=null===document||void 0===document?void 0:document.getElementById("imagen"))||void 0===s||s.classList.toggle("hidden"),null===(o=null===document||void 0===document?void 0:document.getElementById("elegirImagen2"))||void 0===o||o.classList.toggle("hidden")},this.showChooseColors=()=>{var t,e,i,s,o,n;null===(t=null===document||void 0===document?void 0:document.getElementById("imagen"))||void 0===t||t.classList.toggle("hidden"),null===(e=null===document||void 0===document?void 0:document.getElementById("color"))||void 0===e||e.classList.toggle("hidden"),null===(i=null===document||void 0===document?void 0:document.getElementById("formatos"))||void 0===i||i.classList.toggle("hidden"),null===(s=null===document||void 0===document?void 0:document.getElementById("elegirColor1"))||void 0===s||s.classList.toggle("hidden"),null===(o=null===document||void 0===document?void 0:document.getElementById("elegirColor2"))||void 0===o||o.classList.toggle("hidden"),null===(n=document.getElementById("alertColoresIguales"))||void 0===n||n.classList.remove("hidden")},this.showChooseDefaultImg=()=>{var t,e,i,s,o,n;null===(t=null===document||void 0===document?void 0:document.getElementById("verImagenes"))||void 0===t||t.classList.toggle("hidden"),null===(e=null===document||void 0===document?void 0:document.getElementById("verColores"))||void 0===e||e.classList.toggle("hidden"),null===(i=null===document||void 0===document?void 0:document.getElementById("personalizar"))||void 0===i||i.classList.toggle("hidden"),null===(s=null===document||void 0===document?void 0:document.getElementById("leagueOfLegends"))||void 0===s||s.classList.toggle("hidden"),null===(o=null===document||void 0===document?void 0:document.getElementById("naruto"))||void 0===o||o.classList.toggle("hidden"),null===(n=null===document||void 0===document?void 0:document.getElementById("harryPotter"))||void 0===n||n.classList.toggle("hidden")},this.showChooseDefaultColors=()=>{var t,e,i,s,o,n;null===(t=null===document||void 0===document?void 0:document.getElementById("verImagenes"))||void 0===t||t.classList.toggle("hidden"),null===(e=null===document||void 0===document?void 0:document.getElementById("verColores"))||void 0===e||e.classList.toggle("hidden"),null===(i=null===document||void 0===document?void 0:document.getElementById("personalizar"))||void 0===i||i.classList.toggle("hidden"),null===(s=null===document||void 0===document?void 0:document.getElementById("red"))||void 0===s||s.classList.toggle("hidden"),null===(o=null===document||void 0===document?void 0:document.getElementById("green"))||void 0===o||o.classList.toggle("hidden"),null===(n=null===document||void 0===document?void 0:document.getElementById("blue"))||void 0===n||n.classList.toggle("hidden")},this.obtenerRutaArchivo=t=>new Promise((e=>{var i,s;let o=new FileReader,n=null===(s=null===(i=t.target)||void 0===i?void 0:i.files)||void 0===s?void 0:s[0];n&&(o.readAsDataURL(n),o.onloadend=t=>{var i;const s=null===(i=t.target)||void 0===i?void 0:i.result;e(s)})})),this.marcarBtnSeleccionado=t=>{const e=t.parentNode;if(e.hasChildNodes()){const i=e.childNodes;let s=0;for(;s<i.length;){const e=i[s];e.id&&e.id!==t.id&&"BUTTON"===e.nodeName?e.classList.add("noSelected"):(t.classList.remove("noSelected"),t.classList.add("selected")),s++}}},this.setImagesPredefinidas=(t,e,i,s)=>{this.marcarBtnSeleccionado(t),s.setImgFicha1(e),s.setColorFicha1(null),s.setImgFicha2(i),s.setColorFicha2(null)},this.setColor=(t,e,i,s)=>{this.marcarBtnSeleccionado(t),i&&(e.setImgFicha1(null),e.setColorFicha1(i)),s&&(e.setImgFicha2(null),e.setColorFicha2(s))},this.marcarCuatroEnLinea=(t,e)=>{this.marcarBtnSeleccionado(t),e.setCuatroEnLinea()},this.main=t,this.marcarCuatroEnLinea(document.getElementById("4linea"),t),null===(e=document.getElementById("elegirImagen1"))||void 0===e||e.addEventListener("change",(e=>s(this,void 0,void 0,(function*(){t.setImgFicha1(yield this.obtenerRutaArchivo(e)),t.setColorFicha1(null)})))),null===(i=document.getElementById("elegirImagen2"))||void 0===i||i.addEventListener("change",(e=>s(this,void 0,void 0,(function*(){t.setImgFicha1(yield this.obtenerRutaArchivo(e)),t.setColorFicha2(null)})))),null===(o=document.getElementById("leagueOfLegends"))||void 0===o||o.addEventListener("click",(e=>this.setImagesPredefinidas(e.target,"./../../public/anivia.jfif","./../../public/gnar.jfif",t))),null===(n=document.getElementById("naruto"))||void 0===n||n.addEventListener("click",(e=>this.setImagesPredefinidas(e.target,"./../../public/naruto.jfif","./../../public/sasuke.jfif",t))),null===(l=document.getElementById("harryPotter"))||void 0===l||l.addEventListener("click",(e=>this.setImagesPredefinidas(e.target,"./../../public/harryPotter.jfif","./../../public/voldemort.jfif",t))),null===(a=document.getElementById("red"))||void 0===a||a.addEventListener("click",(e=>this.setColor(e.target,t,"red","black"))),null===(d=document.getElementById("blue"))||void 0===d||d.addEventListener("click",(e=>this.setColor(e.target,t,"green","violet"))),null===(r=document.getElementById("blue"))||void 0===r||r.addEventListener("click",(e=>this.setColor(e.target,t,"blue","yellow"))),null===(h=document.getElementById("elegirColor1"))||void 0===h||h.addEventListener("click",(e=>this.setColor(e.target,t,e.target.value,void 0))),null===(c=document.getElementById("elegirColor2"))||void 0===c||c.addEventListener("click",(e=>this.setColor(e.target,t,void 0,e.target.value))),null===(u=document.getElementById("4linea"))||void 0===u||u.addEventListener("click",(e=>{this.marcarCuatroEnLinea(e.target,t)})),null===(m=document.getElementById("5linea"))||void 0===m||m.addEventListener("click",(e=>{this.marcarBtnSeleccionado(e.target),t.setCincoEnLinea()})),null===(g=document.getElementById("6linea"))||void 0===g||g.addEventListener("click",(e=>{this.marcarBtnSeleccionado(e.target),t.setSeisEnLinea()})),null===(v=document.getElementById("7linea"))||void 0===v||v.addEventListener("click",(e=>{this.marcarBtnSeleccionado(e.target),t.setSieteEnLinea()})),null===(I=null===document||void 0===document?void 0:document.getElementById("imagen"))||void 0===I||I.addEventListener("click",this.showChooseImg),null===(E=null===document||void 0===document?void 0:document.getElementById("color"))||void 0===E||E.addEventListener("click",this.showChooseColors),null===(L=null===document||void 0===document?void 0:document.getElementById("verImagenes"))||void 0===L||L.addEventListener("click",this.showChooseDefaultImg),null===(F=null===document||void 0===document?void 0:document.getElementById("verColores"))||void 0===F||F.addEventListener("click",this.showChooseDefaultColors),null===(C=null===document||void 0===document?void 0:document.getElementById("reiniciarJuego"))||void 0===C||C.addEventListener("click",this.main.reiniciar),null===(b=null===document||void 0===document?void 0:document.getElementById("reiniciarJuego2"))||void 0===b||b.addEventListener("click",this.main.reiniciar),null===(y=null===document||void 0===document?void 0:document.getElementById("reiniciarJuego3"))||void 0===y||y.addEventListener("click",this.main.reiniciar)}}class n{constructor(t,e){this.filas=0,this.columnas=0,this.xEnLinea=0,this.jugador1="",this.jugador2="",this.imgFicha1=null,this.imgFicha2=null,this.colorFicha1=null,this.colorFicha2=null,this.canvasHeight=0,this.posInicialTableroX=0,this.posInicialTableroY=0,this.nuevoJuego=()=>new i(this.ctx,this.canvas,this.jugador1,this.jugador2,{color:this.colorFicha1,imgSrc:this.imgFicha1},{color:this.colorFicha2,imgSrc:this.imgFicha2},this.filas,this.columnas,this.imgTablero,this.xEnLinea),this.setImgFicha1=t=>{this.imgFicha1=t},this.setImgFicha2=t=>{this.imgFicha2=t},this.setColorFicha1=t=>{this.colorFicha1=t},this.setColorFicha2=t=>{this.colorFicha2=t},this.setCuatroEnLinea=()=>{this.posInicialTableroX=500,this.posInicialTableroY=100,this.canvasHeight=650,this.columnas=7,this.filas=6,this.xEnLinea=4},this.setCincoEnLinea=()=>{this.posInicialTableroX=400,this.posInicialTableroY=100,this.canvasHeight=700,this.columnas=8,this.filas=7,this.xEnLinea=5},this.setSeisEnLinea=()=>{this.posInicialTableroX=400,this.posInicialTableroY=70,this.canvasHeight=760,this.columnas=9,this.filas=8,this.xEnLinea=6},this.setSieteEnLinea=()=>{this.posInicialTableroX=400,this.posInicialTableroY=70,this.canvasHeight=850,this.columnas=10,this.filas=9,this.xEnLinea=7},this.CanvasEvents=()=>{this.canvas.addEventListener("mouseout",(t=>{null!=this.juego.getTablero()&&this.juego.onMouseOut()})),this.canvas.addEventListener("mousedown",(t=>{null!=this.juego.getTablero()&&this.juego.onMouseDown(t)})),this.canvas.addEventListener("mousemove",(t=>{null!=this.juego.getTablero()&&this.juego.onMouseMove(t)})),this.canvas.addEventListener("mouseup",(t=>{null!=this.juego.getTablero()&&this.juego.onMouseUp(t)}))},this.reiniciar=()=>{this.colorFicha1=null,this.colorFicha1=null,this.imgFicha1=null,this.imgFicha2=null,this.nuevoJuego()},this.comenzarJuego=()=>{var t;null===(t=null===document||void 0===document?void 0:document.getElementById("alertColoresIguales"))||void 0===t||t.classList.add("hidden"),this.juego.comenzarJuego(this.posInicialTableroX,this.posInicialTableroY)},this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.imgTablero=e,new o(this),this.juego=this.nuevoJuego(),this.juego.clearCanvas()}}class l{constructor(){new n(l.canvas,l.imgTablero)}}l.canvas=document.getElementById("myCanvas"),l.imgTablero="./../public/celda.png",new l})();